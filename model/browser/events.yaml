groups:
  - id: event.browser.web_vital
    stability: development
    type: event
    name: browser.web_vital
    brief: >
      This event describes the website performance metrics introduced by Google, See [web vitals](https://web.dev/vitals).
    body:
      id: browser.web_vital
      requirement_level: required
      stability: development
      type: map
      fields:
        - id: name
          type: enum
          members:
            - id: cls
              value: 'cls'
              brief: Cumulative Layout Shift. See [cls](https://web.dev/articles/cls).
              stability: development
            - id: lcp
              value: 'lcp'
              brief: Largest Contentful Paint. See [lcp](https://web.dev/articles/lcp).
              stability: development
            - id: fid
              value: 'fid'
              brief: First Input Delay. See [fid](https://web.dev/articles/fid).
              stability: development
            - id: inp
              value: 'inp'
              brief: Interation to Next Paint. See [inp](https://web.dev/articles/inp).
              stability: development
          stability: development
          brief: Name of the web vital.
          requirement_level: required
          examples: ["cls"]
        - id: value
          type: double
          stability: development
          brief: Value of the web vital.
          requirement_level: required
          examples: [1.0]
        - id: delta
          type: double
          stability: development
          brief: The delta between the current value and the last-reported value. See [delta](https://github.com/GoogleChrome/web-vitals?tab=readme-ov-file#report-only-the-delta-of-changes).
          requirement_level: required
          examples: [0.2]
        - id: id
          type: string
          stability: development
          brief: A unique ID representing this particular metric instance.
          requirement_level: required
          examples: ["v3-1677874579383-6381583661209"]
  - id: event.browser.resource_timing
    stability: development
    type: event
    name: browser.resource_timing
    brief: >
      This event describes the timing metrics as provided by PerformanceResourceTiming Performance API.
      These metrics are related to fetching a resource, such as
      XMLHttpRequest, Fetch, sendBeacon APIs, SVG, image or script.
    note: >
      This event captures data from the [ResourceTiming](https://www.w3.org/TR/resource-timing/).
      It is recommended to be captured by using the PerformanceResourceTiming API.
      If the page starts unloading before the page loads,
      then the partial data can be captured by calling the [performance.getEntriesByType](https://developer.mozilla.org/en-US/docs/Web/API/Performance/getEntriesByType) method.
    attributes:
      - ref: url.full
        requirement_level: required
        note: >
          Generally the url doesn't include any query strings or any leading credentials,
          and it's formatted as scheme://full domain/path only, for example https://user:pwd@www.example.com/path?a=b&c=d
          would be sent as https://www.example.com/path by both removing any potential PII and reducing the cardinality of the name.
    body:
      id: browser.resource_timing
      requirement_level: required
      stability: development
      type: map
      fields:
        - id: fetchStart
          type: double
          stability: development
          brief: >
            The [time](https://developer.mozilla.org/en-US/docs/Web/API/DOMHighResTimeStamp) immediately before
            the browser starts to fetch the resource, in milliseconds.
            See [fetchStart](https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/fetchStart).
          requirement_level: recommended
          examples: [9.600000000558794]
        - id: domainLookupStart
          type: double
          stability: development
          brief: >
            The [time](https://developer.mozilla.org/en-US/docs/Web/API/DOMHighResTimeStamp) immediately before
            the browser starts the domain name lookup for the resource, in milliseconds.
            See [domainLookupStart](https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/domainLookupStart).
          requirement_level: recommended
          examples: [100.6000000014901]
        - id: domainLookupEnd
          type: double
          stability: development
          brief: >
            The [time](https://developer.mozilla.org/en-US/docs/Web/API/DOMHighResTimeStamp) immediately after
            the browser finishes the domain name lookup for the resource, in milliseconds.
            See [domainLookupEnd](https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/domainLookupEnd).
          requirement_level: recommended
          examples: [100.6000000014906]
        - id: connectStart
          type: double
          stability: development
          brief: >
             The [time] (https://developer.mozilla.org/en-US/docs/Web/API/DOMHighResTimeStamp) immediately before
             the user agent starts establishing the connection to the server to retrieve the resource, in milliseconds.
             See [connectStart](https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/connectStart).
          requirement_level: recommended
          examples: [476.6000000014901]
        - id: secureConnectionStart
          type: double
          stability: development
          brief: >
            The [time](https://developer.mozilla.org/en-US/docs/Web/API/DOMHighResTimeStamp) immediately before
            the browser starts the handshake process to secure the current connection, in milliseconds.
            See [secureConnectionStart](https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/secureConnectionStart).
          requirement_level: recommended
          examples: [476.6000000014903]
        - id: connectEnd
          type: double
          stability: development
          brief: >
            The [time](https://developer.mozilla.org/en-US/docs/Web/API/DOMHighResTimeStamp) immediately after
            the browser finishes establishing the connection to the server to retrieve the resource, in milliseconds.
            See [connectEnd](https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/connectEnd).
          requirement_level: recommended
          examples: [476.6000000014906]
        - id: requestStart
          type: double
          stability: development
          brief: >
            The [time](https://developer.mozilla.org/en-US/docs/Web/API/DOMHighResTimeStamp) immediately before
            the browser starts requesting the resource from the server, cache, or local resource, in milliseconds.
            See [requestStart](https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/requestStart).
          requirement_level: recommended
          examples: [506.70000000298023]
        - id: responseStart
          type: double
          stability: development
          brief: >
            The [time](https://developer.mozilla.org/en-US/docs/Web/API/DOMHighResTimeStamp) immediately after
            the browser receives the first byte of the response from the server, cache, or local resource, in milliseconds.
            See [responseStart](https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/responseStart).
          requirement_level: recommended
          examples: [508.6000000014901]
        - id: responseEnd
          type: double
          stability: development
          brief: >
            The [time](https://developer.mozilla.org/en-US/docs/Web/API/DOMHighResTimeStamp) immediately after
            the browser receives the last byte of the resource or immediately before the transport connection is closed, whichever comes first,
            in milliseconds. See [responseEnd](https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/responseEnd).
          requirement_level: recommended
          examples: [510.6000000014906]
